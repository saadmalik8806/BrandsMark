
var interviewPrepURL, switchUpURL, no_of_webinar_slots = 6; function populateWebinarSlots(e) { const t = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]; let n = getUTMParams(); if (null != n.startdate && null != n.enddate) { let t = getItemsByDateRange(n.startdate, n.enddate, e); e = 0 == t.length ? e : t } 0 == e.length ? (console.error("P0: The Uplevel Webinar Slots API Returned No Data."), registration_type = "calendly") : registration_type = "byecalendly", no_of_webinar_slots = null == no_of_webinar_slots ? 4 : no_of_webinar_slots; let a = e.length > no_of_webinar_slots ? no_of_webinar_slots : e.length; var r = (new Date).toString().match(/\((.+)\)/); for (r[1].includes(" ") && (r = r[1].split(" ").map((([e]) => e)).join("")), i = 0; i < a; i++) { var o = e[i].weekday + ", " + e[i].day + " " + t[parseInt(e[i].month) - 1] + " " + e[i].year + " | " + e[i].hour + ":" + e[i].minute + " " + e[i].am_or_pm, l = '<label class="select-webinar-slot w-radio"><input type="radio" name="start-date" value="' + e[i].start_time + '" data-endtime="' + e[i].end_time + '" data-invitee_starttime="' + e[i].invitee_start_time + '" data-invitee_endtime="' + e[i].invitee_end_time + '" data-name="' + e[i].start_time + '" data-webinar_lead_type="' + e[i].webinar_lead_type + '" class="w-form-formradioinput select-webinar-radio-btn w-radio-input"><span class="w-form-label" for="start-date-' + i + '">' + o + " " + r + "</span></label>"; $(".webinar__slots").append($(l)) } } function getItemsByDateRange(e, t, n) { e = new Date(e), t = new Date(t); return $.grep(n, (function (n) { var a = new Date(n.start_time); return a >= e && a <= t })) } async function fetchData(e) { const t = await fetch(e, { headers: { Authorization: "1Cgx6oYXkOlWkNDn7_tXO" } }); return await t.json() } async function combineResponses() { try { let e = await fetchData(interviewPrepURL); e = e.map((e => ({ ...e, webinar_lead_type: "REGULAR" }))); const t = [...e]; for (const e of switchUpData) { const n = t.findIndex((t => t.day === e.day)); -1 !== n && t.splice(n, 1), t.push(e) } return t.sort(((e, t) => new Date(e.start_time) - new Date(t.start_time))), t } catch (e) { console.error("Error:", e) } } function pushToEndPoint(e) { var t = { "First Name": $(".wr__firstname").val(), "Last Name": $(".wr__lastname").val(), "Email Address": $(".email").val(), ByeCalendlyType: $(".bye-calendly-type").val(), "webinar-type": $(".webinar-type").val(), "Webinar Lead Type": $(".webinar-lead-type").val(), utm_source: $(".utm_source").val(), utm_medium: $(".utm_medium").val(), utm_campaign: $(".utm_campaign").val(), utm_content: $(".utm_content").val(), utm_adset: $(".utm_adset").val(), utm_term: $(".utm_term").val(), City: $(".wr__city").val(), Device: $(".wr__device").val(), Referrer: $(".wr__referrer").val(), Region: $(".wr__region").val(), gclid: $(".gclid").val(), msclkid: $(".msclkid").val(), fbclid: $(".fbclid").val(), user_id: $(".user_id").val(), cta_page_url: $(".cta_page_url").val(), landing_page_url: $(".l_page_url").val(), event_name: eventName, user_timezone: $(".user_timezone").val(), page_url: $(".page_url").val(), site_url: $(".site_url").val(), v_country: $(".v_country").val(), salesforce_uuid: $(".salesforce_uuid").val(), phone_number_full: $(".tno1").val(), is_exit_intent_popup: $(".is_exit_intent_popup").val(), "Event Start Time": $(".wr__event-start-time").val(), "Event End Time": $(".wr__event-end-time").val(), "Invitee Start Time": $(".wr__invitee-start-time").val(), "Invitee End Time": $(".wr__invitee-end-time").val() }; $.ajax({ type: "POST", url: e, data: t, success: function (e) { "success" == e.status ? console.log("Form submitted successfully!") : console.error("P0: The Zapier Webhook Failed.") } }) } $(document).ready((function () { let e = getUTMParams(); if ("CAREER_SESSION" == webinarType ? null != e.event_title ? ($(".webinar__lightbox-title").text(decodeURIComponent(e.event_title)), $('input[name="Event Name"]').val(decodeURIComponent(e.event_title)), eventName = decodeURIComponent(e.event)) : ($(".webinar__lightbox-title").text("Seize the AI Advantage: Strengthen Your Resume"), $('input[name="Event Name"]').val("Seize the AI Advantage: Strengthen Your Resume"), eventName = "Seize the AI Advantage: Strengthen Your Resume") : "SWITCH_UP" == webinarType ? null != e.event_title ? ($(".webinar__lightbox-title").text(decodeURIComponent(e.event_title)), $('input[name="Event Name"]').val(decodeURIComponent(e.event_title)), eventName = decodeURIComponent(e.event)) : ($(".webinar__lightbox-title").text("Future-proof your career with AI/ ML, Data Science"), $('input[name="Event Name"]').val("Future-proof your career with AI/ ML, Data Science"), eventName = "Future-proof your career with AI/ ML, Data Science") : null != e.event_title ? ($(".webinar__lightbox-title").text(decodeURIComponent(e.event_title)), $('input[name="Event Name"]').val(decodeURIComponent(e.event_title)), eventName = decodeURIComponent(e.event)) : ($(".webinar__lightbox-title").text("How to Nail your next Technical Interview"), $('input[name="Event Name"]').val("How to Nail your next Technical Interview"), eventName = "How to Nail your next Technical Interview"), $(".webinar-lightbox-close").click((function (e) { $(".webinar__lightbox").css("display", "none"), $("body").css("overflow", "auto") })), "No" == isSwitchUp) { let e = "https://uplevel.interviewkickstart.com/api/webinar-slot/upcoming-slots/?country=IND&program=Backend&timezone=" + v_timezone + "&type=" + webinarType, t = new XMLHttpRequest; t.open("GET", e, !0), t.setRequestHeader("Authorization", "1Cgx6oYXkOlWkNDn7_tXO"), t.onload = function () { if (200 == this.status) { let e = JSON.parse(this.response); "REGULAR" == webinarType && (e = e.map((e => ({ ...e, webinar_lead_type: "REGULAR" })))), populateWebinarSlots(e) } else console.error("P0: The Uplevel Webinar Slots API Failed."), registration_type = "calendly" }, t.onerror = function () { console.error("P0: The Uplevel Webinar Slots API Failed."), registration_type = "calendly" }, t.send() } else interviewPrepURL = "https://uplevel.interviewkickstart.com/api/webinar-slot/upcoming-slots/?country=IND&program=Backend&timezone=" + v_timezone + "&type=REGULAR", combineResponses().then((e => { populateWebinarSlots(e) })) })), null != document.querySelector("#webinar_pnumber") && (int_phone3 = window.intlTelInput(document.querySelector("#webinar_pnumber"), { initialCountry: "auto", geoIpLookup: function (e) { $.get("https://get.geojs.io/v1/ip/country.json", (function () { }), "json").always((function (t) { var n = t && t.country ? t.country : "us"; e(n) })) }, hiddenInput: "full", utilsScript: "//cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.3/js/utils.js" })), $(".btn-back-to-step1").click((function (e) { $(".webinar__registration-form1").show(), $(".webinar__registration-success").hide(), $(".webinar__registration-form1-block").show(), $(".webinar__registration-form2-block").hide() })), $(".bc__btn-select-webinar-slot").click((function (e) { e.preventDefault(), setHiddenFields(); let t = int_phone3.getNumber(intlTelInputUtils.numberFormat.E164); $("input[name='phone_number[intphone_full]'").val(t), $(".tno1").val(t), $(".full-name, .phone, .email").keypress((function () { $(".full-name-error,.email-id-error,.phone-error").addClass("hide") })), $(".full-name, .phone, .email").focus((function () { $(".full-name-error, .email-id-error,.phone-error").addClass("hide") })); let n = new RegExp("^[a-zA-Z ]+$"); if (0 == $(".full-name").val().length && 0 == $(".email").val().length && 0 == $(".phone").val().length) $(".full-name-error,.email-id-error,.phone-error").removeClass("hide"); else if (n.test($(".full-name").val()) && 0 != $(".full-name").val().length) if (/^(\+\d{1,2}\s?)?1?\-?\.?\s?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/gm.test($(".phone").val()) && 0 != $(".phone").val().length) if (/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test($(".email").val()) && 0 != $(".email").val().length) { $(".webinar__loadingbar").css("display", "flex"); let e = $(".full-name").val(); "" == e.substring(0, e.indexOf(" ")) ? ($(".wr__firstname").val(e.substring(e.indexOf(" ") + 1)), $(".wr__lastname").val(e.substring(e.indexOf(" ") + 1))) : "" == e.substring(e.indexOf(" ") + 1) ? ($(".wr__firstname").val(e.substring(0, e.indexOf(" "))), $(".wr__lastname").val(e.substring(0, e.indexOf(" ")))) : ($(".wr__firstname").val(e.substring(0, e.indexOf(" "))), $(".wr__lastname").val(e.substring(e.indexOf(" ") + 1))), $(".wr__email").val($(".email").val()), $(".wr__phone").val(t), dataLayer.push({ event: "new_webinar_registration_form_submitted", webinar_name: document.querySelector(".webinar__lightbox-title").innerHTML }), pushToEndPoint("https://hooks.zapier.com/hooks/catch/11068981/34xpbjl/"), $(".webinar__registration-form1").submit(), $(".webinar__registration-form1-block").hide(), setTimeout((function () { $(".webinar__registration-form2-block").show(), $(".webinar__loadingbar").hide() }), 200) } else $(".email-id-error").removeClass("hide"); else $(".phone-error").removeClass("hide"); else $(".full-name-error").removeClass("hide"); $("input:radio[name='start-date']:first").attr("checked", !0), $(".wr__event-start-time").val($("input:radio[name='start-date']:first").val()), $(".wr__event-end-time").val($("input:radio[name='start-date']:first").data("endtime")), $(".wr__invitee-start-time").val($("input:radio[name='start-date']:first").data("invitee_starttime")), $(".wr__invitee-end-time").val($("input:radio[name='start-date']:first").data("invitee_endtime")), $(".webinar-lead-type").val($("input[name='start-date']:checked").data("webinar_lead_type")), $(".wr__whatsappconsent").val($(".whatsapp-consent").is(":checked")) })), $(".bc__btn-2nd-step").click((function (e) { if (e.preventDefault(), setHiddenFields(), $("input:radio[name='start-date']").is(":checked")) { let n = $('input[name="start-date"]:checked').val(), a = $('input[name="start-date"]:checked').data("endtime"), i = visitor_id + ":" + v_country, r = v_timezone + ":in.ik" + cta_lp + ":in.ik" + getCookie("ik-landingpage"), o = "/signup-final-step" + ("?assigned_to=Interview Kickstart&invitee_first_name=" + $(".wr__firstname").val() + "&invitee_last_name=" + $(".wr__lastname").val() + "&invitee_email=" + $(".wr__email").val() + "&answer_1=" + $(".wr__phone").val() + "&event_start_time=" + n + "&event_end_time=" + a + "&utm_medium=" + i + "&salesforce_uuid=" + r + "&whatsapp_consent=" + $(".wr__whatsappconsent").val()); $(".wr__event-start-time").val(n), $(".wr__event-end-time").val(a), $(".wr__invitee-start-time").val($("input[name='start-date']:checked").data("invitee_starttime")), $(".wr__invitee-end-time").val($("input[name='start-date']:checked").data("invitee_endtime")), $(".webinar-lead-type").val($("input[name='start-date']:checked").data("webinar_lead_type")), $(".webinar__loadingbar").show(), pushToEndPoint("https://hooks.zapier.com/hooks/catch/11068981/34xpujj/"), $(".webinar__registration-form2").submit(), setTimeout((function () { location.href = o }), 400); let l = { firstName: $(".wr__firstname").val(), lastName: $(".wr__lastname").val(), email: $(".wr__email").val(), phone: $(".wr__phone").val(), city: $(".wr__city").val(), device: $(".wr__device").val(), region: $(".wr__region").val(), referrer: $(".wr__referrer").val(), site_url: $(".site_url").val(), eventStartTime: $(".wr__event-start-time").val(), eventEndTime: $(".wr__event-end-time").val(), inviteeStartTime: $(".wr__invitee-start-time").val(), inviteeEndTime: $(".wr__invitee-end-time").val(), learnUserId: $(".user_id").val(), event_name: $("input[name='Event Name']").val(), user_id: $(".user_timezone").val(), cta_url: $(".cta_page_url").val(), landing_page_url: $(".l_page_url").val() }; const s = (new Date).toISOString().replace(/T/, " ").replace(/\.\d+Z$/, " UTC"); function t(e) { const t = new Date(e); return `${t.getUTCFullYear()}-${(t.getUTCMonth() + 1).toString().padStart(2, "0")}-${t.getUTCDate().toString().padStart(2, "0")} ${t.getUTCHours().toString().padStart(2, "0")}:${t.getUTCMinutes().toString().padStart(2, "0")}:${t.getUTCSeconds().toString().padStart(2, "0")} UTC` } const _ = t($(".wr__event-start-time").val()), m = t($(".wr__event-end-time").val()); let d = [{ Lead_Created_Time: s, Lead_Name: l.firstName + " " + l.lastName, Lead_First_Name: l.firstName, Lead_Last__Name: l.lastName, Lead_Email: l.email, Lead_Time_Zone: $(".user_timezone").val(), Event_Type_Name: $('input[name="Event Name"]').val(), Event_Start_Date_Time: _, Event_End_Date_Time: m, Cancellation_reason: "", Mobile: $(".wr__phone").val(), UTM_Campaign: $(".utm_campaign").val(), UTM_Source: $(".utm_source").val(), UTM_Medium: $(".utm_medium").val(), UTM_Term: $(".utm_term").val(), UTM_Content: $(".utm_content").val(), Tracking_ID: "", User_ID: $(".user_id").val(), Page_URL: encodeURIComponent($(".page_url").val()), Country: $(".v_country").val(), Client_Timezone: $(".user_timezone").val(), CTA_Page: encodeURIComponent($(".cta_page_url").val()), Landing_Page: encodeURIComponent(l.landing_page_url), Webinar_reg_type: $(".bye-calendly-type").val(), Webinar_Type: $(".webinar-type").val(), Switchup_Lead: $(".webinar-lead-type").val(), UUID: $(".salesforce_uuid").val(), Click_History: "", City: $(".wr__city").val(), Device: $(".wr__device").val(), Refferer: encodeURIComponent($(".wr__referrer").val()), Region: $(".wr__region").val() }]; $.ajax({ url: "https://nlhtyrnugl.execute-api.us-west-1.amazonaws.com/prod", method: "POST", headers: { "x-api-key": "fm0X61U99b80d5SlGjrxFaWjgxIBylhX3LkfYGPN", "Content-Type": "application/json" }, data: JSON.stringify({ dataset_id: "Marketing_data_new_logic", table_id: "Leads_Click_history", data: d }), success: function (e) { console.log("Success Response:", e), console.log("Success Response:", d) }, error: function (e, t, n) { console.log("Error Response:", e.responseText), console.log("Status:", t), console.log("Error:", n) } }) } })); const currentDateTime = new Date, LeadCreatedTime = currentDateTime.toISOString().replace(/T/, " ").replace(/\.\d+Z$/, " UTC"), now = new Date, year = now.getUTCFullYear(), month = (now.getUTCMonth() + 1).toString().padStart(2, "0"), day = now.getUTCDate().toString().padStart(2, "0"), hours = now.getUTCHours().toString().padStart(2, "0"), minutes = now.getUTCMinutes().toString().padStart(2, "0"), seconds = now.getUTCSeconds().toString().padStart(2, "0"), milliseconds = now.getUTCMilliseconds(); var newDate = `${year}-${month}-${day} ${hours}:${minutes}:${seconds}.${milliseconds} UTC`; setTimeout((() => { let e = [{ Lead_Created_Time: currentDateTime, Lead_Time_Zone: encodeURIComponent($(".user_timezone").val()), Event_Type_Name: encodeURIComponent($('input[name="Event Name"]').val()), Cancellation_reason: "", UTM_Campaign: encodeURIComponent($(".utm_campaign").val()), UTM_Source: encodeURIComponent($(".utm_source").val()), UTM_Medium: encodeURIComponent($(".utm_medium").val()), UTM_Term: encodeURIComponent($(".utm_term").val()), UTM_Content: encodeURIComponent($(".utm_content").val()), Tracking_ID: "", User_ID: encodeURIComponent($(".user_id").val()), Page_URL: encodeURIComponent($(".page_url").val()), Country: encodeURIComponent($(".v_country").val()), Client_Timezone: encodeURIComponent($(".user_timezone").val()), CTA_Page: encodeURIComponent($(".cta_page_url").val()), Landing_Page: encodeURIComponent($(".l_page_url").val()), Click_History: "", City: encodeURIComponent($(".wr__city").val()), Device: encodeURIComponent($(".wr__device").val()), Refferer: encodeURIComponent($(".wr__referrer").val()), Region: encodeURIComponent($(".wr__region").val()), New_Lead_Created_Time: encodeURIComponent(newDate) }]; $.ajax({ url: "https://nlhtyrnugl.execute-api.us-west-1.amazonaws.com/prod", method: "POST", headers: { "x-api-key": "fm0X61U99b80d5SlGjrxFaWjgxIBylhX3LkfYGPN", "Content-Type": "application/json" }, data: JSON.stringify({ dataset_id: "Marketing_data_new_logic", table_id: "Leads_Click_history", data: e }), success: function (t) { console.log("Success Response:", t), console.log("Click_history-data:", e) }, error: function (e, t, n) { console.log("Error Response:", e.responseText), console.log("Status:", t), console.log("Error:", n) } }) }), "3000");
